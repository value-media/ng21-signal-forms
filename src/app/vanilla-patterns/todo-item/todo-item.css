/* Ka≈ºdy todo-item ma unikalny anchor-name przez style binding Angulara */
:host {
    --element-with: min(50em, 80vw);
    --border-radius: 1em;
    position: relative;
    padding: 1em;
    width: var(--element-with);
    --completed-bg: lightgreen;
    --status: attr(data-status type(<custom-ident>));
    border: 2px solid;
    border-radius: var(--border-radius);
    border-color: if(
        style(--status: pending): royalblue;
        style(--status: completed): seagreen;
        else: gray;
    );
    background-color: if(
        style(--status: pending): deepskyblue;
        style(--status: completed): var(--completed-bg);
        else: #f7f7f7;
    );
    font-style: if(
        style(--status: completed): italic;
        else: normal;
    );

    input[type="checkbox"] {
        accent-color: var(--completed-bg); /* np. indigo */
    }

    label {
        cursor: pointer;
        display: inline-block;
        padding-right: 2em;
        max-width: calc(100% - 6em);
    }

    .btn {
        position: absolute;
        top: 0.25em;
        color: dimgray;
        border: none;
        outline: none;
        background: transparent;
        font-weight: bold;
        cursor: pointer;
        padding: 0.5em;
        transition: all 0.2s ease;
    }


.actions-btn {
    margin-top: 0.25em;
    right: 0.5em;

  background: none;
  border: none;
  font-size: inherit;
  cursor: pointer;
}

.actions-menu {
  position-anchor: var(--anchor);
  position-area: left;
  margin-top: 1px;
  width: max-content;
  line-height: 2.5em;

  background: none;
  border: none;
  border-radius: 4px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  padding: 4px;

  display: none;
  transition: all 0.5s ease;
  
  opacity: 0;
  transition-behavior: allow-discrete;

  button {
    padding: 2px;
    background: none;
    color: #111;
    border: none;
  }
  

    .delete-btn {
        &:hover {
            color: red;
            scale: 1.2;
            font-weight: bolder;
        }
    }

    .edit-btn {
        &:hover {
            color: black;
            scale: 1.2;
            font-weight: bold;
        }
    }
}

.actions-menu:popover-open {
  display: flex;  
  gap: 0.25em;
  opacity: 0.9;
}

    .edit-dialog {
        background-color: inherit;
        position: absolute;
        position-area: center;
        width: var(--element-with);
        border: 2px solid dimgray;
        outline: 2px solid lightgray;
        border-radius: 1.5em;
        padding: 1em;
        max-height: 3em;
        overflow-y: hidden;


        .edit-todo-form {
            display: flex;
            align-items: center;
            gap: 0.25em;

            input {
                flex: 1;
                padding: 0.5em 1em;
                border-radius: 1em;
                font-family: inherit;
                font-size: inherit;
                outline-width: 0;
                border-width: 0;
            }

            button {
                border-radius: 0.5em;
                padding: 0.25em 0.5em;
                cursor: pointer;
                margin: 0;
                background-color: transparent;
                color: black;
            }
        }
    }
}
